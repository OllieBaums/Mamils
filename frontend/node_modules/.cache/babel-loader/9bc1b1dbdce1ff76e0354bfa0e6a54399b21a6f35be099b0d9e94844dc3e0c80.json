{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ollie\\\\OneDrive\\\\Documents\\\\personal-Projects\\\\Mamils\\\\frontend\\\\src\\\\components\\\\MapView.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useMemo } from \"react\";\nimport { MapContainer, TileLayer, Marker, Popup } from \"react-leaflet\";\nimport L from \"leaflet\";\nimport { FiCalendar, FiMapPin, FiMountain, FiRoute, FiImage } from \"react-icons/fi\";\nimport usePhotos from \"../hooks/usePhotos\";\n\n// Fix for default markers in React Leaflet\nimport markerIcon2x from 'leaflet/dist/images/marker-icon-2x.png';\nimport markerIcon from 'leaflet/dist/images/marker-icon.png';\nimport markerShadow from 'leaflet/dist/images/marker-shadow.png';\n\n// Delete the default icon to fix the marker issue\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\n\n// Create custom bike icon SVG\nconst createBikeIcon = (count = 1, isCluster = false) => {\n  const size = isCluster ? 50 : 40;\n  const color = isCluster ? '#2563eb' : '#059669'; // Blue for clusters, green for single\n  const textColor = 'white';\n  return L.divIcon({\n    html: `\n      <div style=\"\n        width: ${size}px;\n        height: ${size}px;\n        background: ${color};\n        border: 3px solid white;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        box-shadow: 0 4px 8px rgba(0,0,0,0.3);\n        font-weight: bold;\n        color: ${textColor};\n        font-size: ${isCluster ? '14px' : '12px'};\n        position: relative;\n      \">\n        ${isCluster ? count : 'ðŸš´'}\n        ${isCluster ? '' : `\n          <div style=\"\n            position: absolute;\n            bottom: -8px;\n            left: 50%;\n            transform: translateX(-50%);\n            width: 0;\n            height: 0;\n            border-left: 6px solid transparent;\n            border-right: 6px solid transparent;\n            border-top: 8px solid ${color};\n          \"></div>\n        `}\n      </div>\n    `,\n    className: 'custom-bike-marker',\n    iconSize: [size, size],\n    iconAnchor: [size / 2, isCluster ? size / 2 : size + 8],\n    popupAnchor: [0, isCluster ? -size / 2 : -size - 8]\n  });\n};\n\n// Component for detailed ride popup\nconst RidePopup = ({\n  rides\n}) => {\n  _s();\n  const {\n    getPhotosByIds,\n    getPhotoUrl\n  } = usePhotos();\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n  if (rides.length === 1) {\n    const ride = rides[0];\n    const ridePhotos = getPhotosByIds(ride.photos || []);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-3 max-w-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold text-lg text-gray-900 mb-1\",\n          children: ride.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), ride.locationName && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600 flex items-center mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(FiMapPin, {\n            className: \"mr-1 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), ride.locationName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-3 mb-3 text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(FiCalendar, {\n            className: \"mr-2 text-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-medium\",\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: formatDate(ride.date)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(FiRoute, {\n            className: \"mr-2 text-green-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-medium\",\n              children: \"Distance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: [ride.distance, \" km\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(FiMountain, {\n            className: \"mr-2 text-orange-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-medium\",\n              children: \"Elevation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: [ride.elevation, \" m\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), ridePhotos.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(FiImage, {\n            className: \"mr-2 text-purple-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-medium\",\n              children: \"Photos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: [ridePhotos.length, \" photo\", ridePhotos.length !== 1 ? 's' : '']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), ride.notes && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-medium text-sm mb-1\",\n          children: \"Notes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600 bg-gray-50 p-2 rounded\",\n          children: ride.notes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this), ridePhotos.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-medium text-sm mb-2 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(FiImage, {\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }, this), \"Photos\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-3 gap-1 max-h-32 overflow-y-auto photo-grid-scroll\",\n          children: ridePhotos.slice(0, 9).map((photo, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative aspect-square\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: getPhotoUrl(photo.id),\n              alt: photo.description || `Ride photo ${index + 1}`,\n              className: \"w-full h-full object-cover rounded border hover:opacity-90 transition-opacity cursor-pointer\",\n              onError: e => {\n                // Hide broken images\n                e.target.style.display = 'none';\n              },\n              title: photo.description || photo.originalName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 19\n            }, this), index === 8 && ridePhotos.length > 9 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center rounded\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-white text-xs font-semibold\",\n                children: [\"+\", ridePhotos.length - 9]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 21\n            }, this)]\n          }, photo.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-gray-500 mt-2 pt-2 border-t\",\n        children: \"Click and drag to explore the map\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Multiple rides at same location\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-3 max-w-sm\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"font-bold text-lg text-gray-900 mb-2\",\n      children: [rides.length, \" Rides at this Location\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), rides[0].locationName && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-600 flex items-center mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(FiMapPin, {\n        className: \"mr-1 text-gray-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this), rides[0].locationName]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-3 max-h-64 overflow-y-auto photo-grid-scroll\",\n      children: rides.map(ride => {\n        const ridePhotos = getPhotosByIds(ride.photos || []);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-l-4 border-blue-500 pl-3 bg-gray-50 p-2 rounded-r\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-start mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-sm text-gray-900\",\n              children: ride.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500\",\n              children: formatDate(ride.date)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4 text-xs text-gray-600 mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(FiRoute, {\n                className: \"mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 19\n              }, this), ride.distance, \" km\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(FiMountain, {\n                className: \"mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 19\n              }, this), ride.elevation, \" m\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this), ridePhotos.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(FiImage, {\n                className: \"mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 21\n              }, this), ridePhotos.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 15\n          }, this), ride.notes && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-600 truncate\",\n            children: ride.notes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 17\n          }, this), ridePhotos.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-1 mt-2\",\n            children: [ridePhotos.slice(0, 3).map((photo, photoIndex) => /*#__PURE__*/_jsxDEV(\"img\", {\n              src: getPhotoUrl(photo.id),\n              alt: `${ride.name} photo ${photoIndex + 1}`,\n              className: \"w-8 h-8 object-cover rounded border\",\n              onError: e => {\n                e.target.style.display = 'none';\n              }\n            }, photoIndex, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 21\n            }, this)), ridePhotos.length > 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-8 h-8 bg-gray-300 rounded border flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-600\",\n                children: [\"+\", ridePhotos.length - 3]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 17\n          }, this)]\n        }, ride.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-xs text-gray-500 mt-2 pt-2 border-t\",\n      children: [rides.length, \" rides found at this location\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 5\n  }, this);\n};\n_s(RidePopup, \"oMhWkGE2K0Ua0eyO/xw3zekrX7w=\", false, function () {\n  return [usePhotos];\n});\n_c = RidePopup;\nconst MapView = ({\n  rides\n}) => {\n  _s2();\n  // Default center (London coordinates, you can change this)\n  const defaultPosition = [51.505, -0.09];\n\n  // Group rides by location (with some tolerance for nearby locations)\n  const groupedRides = useMemo(() => {\n    if (!rides || rides.length === 0) return [];\n    const groups = [];\n    const tolerance = 0.001; // About 100 meters\n\n    rides.forEach(ride => {\n      // Find existing group within tolerance\n      const existingGroup = groups.find(group => {\n        const distance = Math.sqrt(Math.pow(group.lat - ride.location.lat, 2) + Math.pow(group.lng - ride.location.lng, 2));\n        return distance < tolerance;\n      });\n      if (existingGroup) {\n        existingGroup.rides.push(ride);\n      } else {\n        groups.push({\n          lat: ride.location.lat,\n          lng: ride.location.lng,\n          rides: [ride]\n        });\n      }\n    });\n    return groups;\n  }, [rides]);\n\n  // Calculate map center and zoom\n  const getMapCenter = () => {\n    if (rides && rides.length > 0) {\n      if (rides.length === 1) {\n        return [rides[0].location.lat, rides[0].location.lng];\n      }\n\n      // Calculate center of all rides\n      const avgLat = rides.reduce((sum, ride) => sum + ride.location.lat, 0) / rides.length;\n      const avgLng = rides.reduce((sum, ride) => sum + ride.location.lng, 0) / rides.length;\n      return [avgLat, avgLng];\n    }\n    return defaultPosition;\n  };\n  const getMapZoom = () => {\n    if (rides && rides.length > 1) {\n      return 6;\n    } else if (rides && rides.length === 1) {\n      return 10;\n    }\n    return 6;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative w-full h-full\",\n    children: [/*#__PURE__*/_jsxDEV(MapContainer, {\n      center: getMapCenter(),\n      zoom: getMapZoom(),\n      scrollWheelZoom: true,\n      className: \"w-full h-full\",\n      style: {\n        height: \"100%\",\n        width: \"100%\",\n        zIndex: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        attribution: \"\\xA9 <a href=\\\"https://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this), groupedRides.map((group, index) => /*#__PURE__*/_jsxDEV(Marker, {\n        position: [group.lat, group.lng],\n        icon: createBikeIcon(group.rides.length, group.rides.length > 1),\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          maxWidth: 400,\n          className: \"custom-popup\",\n          children: /*#__PURE__*/_jsxDEV(RidePopup, {\n            rides: group.rides\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }, this)\n      }, `group-${group.lat}-${group.lng}-${index}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute bottom-4 left-4 bg-white p-3 rounded-lg shadow-lg z-10 text-xs\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"font-semibold mb-2\",\n        children: \"Map Legend\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-4 h-4 bg-green-600 rounded-full mr-2 flex items-center justify-center text-white text-xs\",\n            children: \"\\uD83D\\uDEB4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Single ride\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-5 h-5 bg-blue-600 rounded-full mr-2 flex items-center justify-center text-white text-xs font-bold\",\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Multiple rides\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this), rides && rides.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-4 left-4 bg-white p-3 rounded-lg shadow-lg z-10\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-semibold text-gray-900 mb-1\",\n          children: \"Your Rides\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: [rides.length, \" ride\", rides.length !== 1 ? 's' : '', \" \\u2022 \", groupedRides.length, \" location\", groupedRides.length !== 1 ? 's' : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 312,\n    columnNumber: 5\n  }, this);\n};\n_s2(MapView, \"K+M+4ggeCiIf1HHkjCqVaO2O+Us=\");\n_c2 = MapView;\nexport default MapView;\nvar _c, _c2;\n$RefreshReg$(_c, \"RidePopup\");\n$RefreshReg$(_c2, \"MapView\");","map":{"version":3,"names":["React","useEffect","useMemo","MapContainer","TileLayer","Marker","Popup","L","FiCalendar","FiMapPin","FiMountain","FiRoute","FiImage","usePhotos","markerIcon2x","markerIcon","markerShadow","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","createBikeIcon","count","isCluster","size","color","textColor","divIcon","html","className","iconSize","iconAnchor","popupAnchor","RidePopup","rides","_s","getPhotosByIds","getPhotoUrl","formatDate","dateString","Date","toLocaleDateString","year","month","day","length","ride","ridePhotos","photos","children","name","fileName","_jsxFileName","lineNumber","columnNumber","locationName","date","distance","elevation","notes","slice","map","photo","index","src","id","alt","description","onError","e","target","style","display","title","originalName","photoIndex","_c","MapView","_s2","defaultPosition","groupedRides","groups","tolerance","forEach","existingGroup","find","group","Math","sqrt","pow","lat","location","lng","push","getMapCenter","avgLat","reduce","sum","avgLng","getMapZoom","center","zoom","scrollWheelZoom","height","width","zIndex","attribution","url","position","icon","maxWidth","_c2","$RefreshReg$"],"sources":["C:/Users/ollie/OneDrive/Documents/personal-Projects/Mamils/frontend/src/components/MapView.jsx"],"sourcesContent":["import React, { useEffect, useMemo } from \"react\";\r\nimport { MapContainer, TileLayer, Marker, Popup } from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\nimport { FiCalendar, FiMapPin, FiMountain, FiRoute, FiImage } from \"react-icons/fi\";\r\nimport usePhotos from \"../hooks/usePhotos\";\r\n\r\n// Fix for default markers in React Leaflet\r\nimport markerIcon2x from 'leaflet/dist/images/marker-icon-2x.png';\r\nimport markerIcon from 'leaflet/dist/images/marker-icon.png';\r\nimport markerShadow from 'leaflet/dist/images/marker-shadow.png';\r\n\r\n// Delete the default icon to fix the marker issue\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\n\r\n// Create custom bike icon SVG\r\nconst createBikeIcon = (count = 1, isCluster = false) => {\r\n  const size = isCluster ? 50 : 40;\r\n  const color = isCluster ? '#2563eb' : '#059669'; // Blue for clusters, green for single\r\n  const textColor = 'white';\r\n  \r\n  return L.divIcon({\r\n    html: `\r\n      <div style=\"\r\n        width: ${size}px;\r\n        height: ${size}px;\r\n        background: ${color};\r\n        border: 3px solid white;\r\n        border-radius: 50%;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        box-shadow: 0 4px 8px rgba(0,0,0,0.3);\r\n        font-weight: bold;\r\n        color: ${textColor};\r\n        font-size: ${isCluster ? '14px' : '12px'};\r\n        position: relative;\r\n      \">\r\n        ${isCluster ? count : 'ðŸš´'}\r\n        ${isCluster ? '' : `\r\n          <div style=\"\r\n            position: absolute;\r\n            bottom: -8px;\r\n            left: 50%;\r\n            transform: translateX(-50%);\r\n            width: 0;\r\n            height: 0;\r\n            border-left: 6px solid transparent;\r\n            border-right: 6px solid transparent;\r\n            border-top: 8px solid ${color};\r\n          \"></div>\r\n        `}\r\n      </div>\r\n    `,\r\n    className: 'custom-bike-marker',\r\n    iconSize: [size, size],\r\n    iconAnchor: [size / 2, isCluster ? size / 2 : size + 8],\r\n    popupAnchor: [0, isCluster ? -size / 2 : -size - 8]\r\n  });\r\n};\r\n\r\n// Component for detailed ride popup\r\nconst RidePopup = ({ rides }) => {\r\n  const { getPhotosByIds, getPhotoUrl } = usePhotos();\r\n  \r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  if (rides.length === 1) {\r\n    const ride = rides[0];\r\n    const ridePhotos = getPhotosByIds(ride.photos || []);\r\n    \r\n    return (\r\n      <div className=\"p-3 max-w-sm\">\r\n        <div className=\"mb-3\">\r\n          <h3 className=\"font-bold text-lg text-gray-900 mb-1\">{ride.name}</h3>\r\n          {ride.locationName && (\r\n            <p className=\"text-sm text-gray-600 flex items-center mb-2\">\r\n              <FiMapPin className=\"mr-1 text-gray-400\" />\r\n              {ride.locationName}\r\n            </p>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-2 gap-3 mb-3 text-sm\">\r\n          <div className=\"flex items-center\">\r\n            <FiCalendar className=\"mr-2 text-blue-500\" />\r\n            <div>\r\n              <p className=\"font-medium\">Date</p>\r\n              <p className=\"text-gray-600\">{formatDate(ride.date)}</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center\">\r\n            <FiRoute className=\"mr-2 text-green-500\" />\r\n            <div>\r\n              <p className=\"font-medium\">Distance</p>\r\n              <p className=\"text-gray-600\">{ride.distance} km</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center\">\r\n            <FiMountain className=\"mr-2 text-orange-500\" />\r\n            <div>\r\n              <p className=\"font-medium\">Elevation</p>\r\n              <p className=\"text-gray-600\">{ride.elevation} m</p>\r\n            </div>\r\n          </div>\r\n\r\n          {ridePhotos.length > 0 && (\r\n            <div className=\"flex items-center\">\r\n              <FiImage className=\"mr-2 text-purple-500\" />\r\n              <div>\r\n                <p className=\"font-medium\">Photos</p>\r\n                <p className=\"text-gray-600\">{ridePhotos.length} photo{ridePhotos.length !== 1 ? 's' : ''}</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {ride.notes && (\r\n          <div className=\"mb-3\">\r\n            <p className=\"font-medium text-sm mb-1\">Notes</p>\r\n            <p className=\"text-sm text-gray-600 bg-gray-50 p-2 rounded\">{ride.notes}</p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Photos Grid */}\r\n        {ridePhotos.length > 0 && (\r\n          <div className=\"mb-2\">\r\n            <p className=\"font-medium text-sm mb-2 flex items-center\">\r\n              <FiImage className=\"mr-1\" />\r\n              Photos\r\n            </p>\r\n            <div className=\"grid grid-cols-3 gap-1 max-h-32 overflow-y-auto photo-grid-scroll\">\r\n              {ridePhotos.slice(0, 9).map((photo, index) => (\r\n                <div key={photo.id} className=\"relative aspect-square\">\r\n                  <img\r\n                    src={getPhotoUrl(photo.id)}\r\n                    alt={photo.description || `Ride photo ${index + 1}`}\r\n                    className=\"w-full h-full object-cover rounded border hover:opacity-90 transition-opacity cursor-pointer\"\r\n                    onError={(e) => {\r\n                      // Hide broken images\r\n                      e.target.style.display = 'none';\r\n                    }}\r\n                    title={photo.description || photo.originalName}\r\n                  />\r\n                  {index === 8 && ridePhotos.length > 9 && (\r\n                    <div className=\"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center rounded\">\r\n                      <span className=\"text-white text-xs font-semibold\">\r\n                        +{ridePhotos.length - 9}\r\n                      </span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"text-xs text-gray-500 mt-2 pt-2 border-t\">\r\n          Click and drag to explore the map\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Multiple rides at same location\r\n  return (\r\n    <div className=\"p-3 max-w-sm\">\r\n      <h3 className=\"font-bold text-lg text-gray-900 mb-2\">\r\n        {rides.length} Rides at this Location\r\n      </h3>\r\n      \r\n      {rides[0].locationName && (\r\n        <p className=\"text-sm text-gray-600 flex items-center mb-3\">\r\n          <FiMapPin className=\"mr-1 text-gray-400\" />\r\n          {rides[0].locationName}\r\n        </p>\r\n      )}\r\n\r\n      <div className=\"space-y-3 max-h-64 overflow-y-auto photo-grid-scroll\">\r\n        {rides.map((ride) => {\r\n          const ridePhotos = getPhotosByIds(ride.photos || []);\r\n          \r\n          return (\r\n            <div key={ride.id} className=\"border-l-4 border-blue-500 pl-3 bg-gray-50 p-2 rounded-r\">\r\n              <div className=\"flex justify-between items-start mb-1\">\r\n                <h4 className=\"font-semibold text-sm text-gray-900\">{ride.name}</h4>\r\n                <span className=\"text-xs text-gray-500\">{formatDate(ride.date)}</span>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center space-x-4 text-xs text-gray-600 mb-1\">\r\n                <span className=\"flex items-center\">\r\n                  <FiRoute className=\"mr-1\" />\r\n                  {ride.distance} km\r\n                </span>\r\n                <span className=\"flex items-center\">\r\n                  <FiMountain className=\"mr-1\" />\r\n                  {ride.elevation} m\r\n                </span>\r\n                {ridePhotos.length > 0 && (\r\n                  <span className=\"flex items-center\">\r\n                    <FiImage className=\"mr-1\" />\r\n                    {ridePhotos.length}\r\n                  </span>\r\n                )}\r\n              </div>\r\n\r\n              {ride.notes && (\r\n                <p className=\"text-xs text-gray-600 truncate\">{ride.notes}</p>\r\n              )}\r\n\r\n              {/* Mini photo preview for clustered rides */}\r\n              {ridePhotos.length > 0 && (\r\n                <div className=\"flex space-x-1 mt-2\">\r\n                  {ridePhotos.slice(0, 3).map((photo, photoIndex) => (\r\n                    <img\r\n                      key={photoIndex}\r\n                      src={getPhotoUrl(photo.id)}\r\n                      alt={`${ride.name} photo ${photoIndex + 1}`}\r\n                      className=\"w-8 h-8 object-cover rounded border\"\r\n                      onError={(e) => {\r\n                        e.target.style.display = 'none';\r\n                      }}\r\n                    />\r\n                  ))}\r\n                  {ridePhotos.length > 3 && (\r\n                    <div className=\"w-8 h-8 bg-gray-300 rounded border flex items-center justify-center\">\r\n                      <span className=\"text-xs text-gray-600\">+{ridePhotos.length - 3}</span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      \r\n      <div className=\"text-xs text-gray-500 mt-2 pt-2 border-t\">\r\n        {rides.length} rides found at this location\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nconst MapView = ({ rides }) => {\r\n  // Default center (London coordinates, you can change this)\r\n  const defaultPosition = [51.505, -0.09];\r\n\r\n  // Group rides by location (with some tolerance for nearby locations)\r\n  const groupedRides = useMemo(() => {\r\n    if (!rides || rides.length === 0) return [];\r\n\r\n    const groups = [];\r\n    const tolerance = 0.001; // About 100 meters\r\n\r\n    rides.forEach(ride => {\r\n      // Find existing group within tolerance\r\n      const existingGroup = groups.find(group => {\r\n        const distance = Math.sqrt(\r\n          Math.pow(group.lat - ride.location.lat, 2) + \r\n          Math.pow(group.lng - ride.location.lng, 2)\r\n        );\r\n        return distance < tolerance;\r\n      });\r\n\r\n      if (existingGroup) {\r\n        existingGroup.rides.push(ride);\r\n      } else {\r\n        groups.push({\r\n          lat: ride.location.lat,\r\n          lng: ride.location.lng,\r\n          rides: [ride]\r\n        });\r\n      }\r\n    });\r\n\r\n    return groups;\r\n  }, [rides]);\r\n\r\n  // Calculate map center and zoom\r\n  const getMapCenter = () => {\r\n    if (rides && rides.length > 0) {\r\n      if (rides.length === 1) {\r\n        return [rides[0].location.lat, rides[0].location.lng];\r\n      }\r\n      \r\n      // Calculate center of all rides\r\n      const avgLat = rides.reduce((sum, ride) => sum + ride.location.lat, 0) / rides.length;\r\n      const avgLng = rides.reduce((sum, ride) => sum + ride.location.lng, 0) / rides.length;\r\n      return [avgLat, avgLng];\r\n    }\r\n    return defaultPosition;\r\n  };\r\n\r\n  const getMapZoom = () => {\r\n    if (rides && rides.length > 1) {\r\n      return 6;\r\n    } else if (rides && rides.length === 1) {\r\n      return 10;\r\n    }\r\n    return 6;\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative w-full h-full\">\r\n      <MapContainer\r\n        center={getMapCenter()}\r\n        zoom={getMapZoom()}\r\n        scrollWheelZoom={true}\r\n        className=\"w-full h-full\"\r\n        style={{ height: \"100%\", width: \"100%\", zIndex: 1 }}\r\n      >\r\n        <TileLayer\r\n          attribution='&copy; <a href=\"https://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        />\r\n\r\n        {groupedRides.map((group, index) => (\r\n          <Marker\r\n            key={`group-${group.lat}-${group.lng}-${index}`}\r\n            position={[group.lat, group.lng]}\r\n            icon={createBikeIcon(group.rides.length, group.rides.length > 1)}\r\n          >\r\n            <Popup \r\n              maxWidth={400}\r\n              className=\"custom-popup\"\r\n            >\r\n              <RidePopup rides={group.rides} />\r\n            </Popup>\r\n          </Marker>\r\n        ))}\r\n      </MapContainer>\r\n\r\n      {/* Map Legend */}\r\n      <div className=\"absolute bottom-4 left-4 bg-white p-3 rounded-lg shadow-lg z-10 text-xs\">\r\n        <h4 className=\"font-semibold mb-2\">Map Legend</h4>\r\n        <div className=\"space-y-1\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"w-4 h-4 bg-green-600 rounded-full mr-2 flex items-center justify-center text-white text-xs\">ðŸš´</div>\r\n            <span>Single ride</span>\r\n          </div>\r\n          <div className=\"flex items-center\">\r\n            <div className=\"w-5 h-5 bg-blue-600 rounded-full mr-2 flex items-center justify-center text-white text-xs font-bold\">3</div>\r\n            <span>Multiple rides</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Ride Summary */}\r\n      {rides && rides.length > 0 && (\r\n        <div className=\"absolute top-4 left-4 bg-white p-3 rounded-lg shadow-lg z-10\">\r\n          <div className=\"text-sm\">\r\n            <h4 className=\"font-semibold text-gray-900 mb-1\">Your Rides</h4>\r\n            <p className=\"text-gray-600\">\r\n              {rides.length} ride{rides.length !== 1 ? 's' : ''} â€¢ {groupedRides.length} location{groupedRides.length !== 1 ? 's' : ''}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MapView;"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,OAAO,QAAQ,OAAO;AACjD,SAASC,YAAY,EAAEC,SAAS,EAAEC,MAAM,EAAEC,KAAK,QAAQ,eAAe;AACtE,OAAOC,CAAC,MAAM,SAAS;AACvB,SAASC,UAAU,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,OAAO,EAAEC,OAAO,QAAQ,gBAAgB;AACnF,OAAOC,SAAS,MAAM,oBAAoB;;AAE1C;AACA,OAAOC,YAAY,MAAM,wCAAwC;AACjE,OAAOC,UAAU,MAAM,qCAAqC;AAC5D,OAAOC,YAAY,MAAM,uCAAuC;;AAEhE;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,OAAOX,CAAC,CAACY,IAAI,CAACC,OAAO,CAACC,SAAS,CAACC,WAAW;;AAE3C;AACA,MAAMC,cAAc,GAAGA,CAACC,KAAK,GAAG,CAAC,EAAEC,SAAS,GAAG,KAAK,KAAK;EACvD,MAAMC,IAAI,GAAGD,SAAS,GAAG,EAAE,GAAG,EAAE;EAChC,MAAME,KAAK,GAAGF,SAAS,GAAG,SAAS,GAAG,SAAS,CAAC,CAAC;EACjD,MAAMG,SAAS,GAAG,OAAO;EAEzB,OAAOrB,CAAC,CAACsB,OAAO,CAAC;IACfC,IAAI,EAAE;AACV;AACA,iBAAiBJ,IAAI;AACrB,kBAAkBA,IAAI;AACtB,sBAAsBC,KAAK;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiBC,SAAS;AAC1B,qBAAqBH,SAAS,GAAG,MAAM,GAAG,MAAM;AAChD;AACA;AACA,UAAUA,SAAS,GAAGD,KAAK,GAAG,IAAI;AAClC,UAAUC,SAAS,GAAG,EAAE,GAAG;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoCE,KAAK;AACzC;AACA,SAAS;AACT;AACA,KAAK;IACDI,SAAS,EAAE,oBAAoB;IAC/BC,QAAQ,EAAE,CAACN,IAAI,EAAEA,IAAI,CAAC;IACtBO,UAAU,EAAE,CAACP,IAAI,GAAG,CAAC,EAAED,SAAS,GAAGC,IAAI,GAAG,CAAC,GAAGA,IAAI,GAAG,CAAC,CAAC;IACvDQ,WAAW,EAAE,CAAC,CAAC,EAAET,SAAS,GAAG,CAACC,IAAI,GAAG,CAAC,GAAG,CAACA,IAAI,GAAG,CAAC;EACpD,CAAC,CAAC;AACJ,CAAC;;AAED;AACA,MAAMS,SAAS,GAAGA,CAAC;EAAEC;AAAM,CAAC,KAAK;EAAAC,EAAA;EAC/B,MAAM;IAAEC,cAAc;IAAEC;EAAY,CAAC,GAAG1B,SAAS,CAAC,CAAC;EAEnD,MAAM2B,UAAU,GAAIC,UAAU,IAAK;IACjC,OAAO,IAAIC,IAAI,CAACD,UAAU,CAAC,CAACE,kBAAkB,CAAC,OAAO,EAAE;MACtDC,IAAI,EAAE,SAAS;MACfC,KAAK,EAAE,MAAM;MACbC,GAAG,EAAE;IACP,CAAC,CAAC;EACJ,CAAC;EAED,IAAIV,KAAK,CAACW,MAAM,KAAK,CAAC,EAAE;IACtB,MAAMC,IAAI,GAAGZ,KAAK,CAAC,CAAC,CAAC;IACrB,MAAMa,UAAU,GAAGX,cAAc,CAACU,IAAI,CAACE,MAAM,IAAI,EAAE,CAAC;IAEpD,oBACEhC,OAAA;MAAKa,SAAS,EAAC,cAAc;MAAAoB,QAAA,gBAC3BjC,OAAA;QAAKa,SAAS,EAAC,MAAM;QAAAoB,QAAA,gBACnBjC,OAAA;UAAIa,SAAS,EAAC,sCAAsC;UAAAoB,QAAA,EAAEH,IAAI,CAACI;QAAI;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,EACpER,IAAI,CAACS,YAAY,iBAChBvC,OAAA;UAAGa,SAAS,EAAC,8CAA8C;UAAAoB,QAAA,gBACzDjC,OAAA,CAACT,QAAQ;YAACsB,SAAS,EAAC;UAAoB;YAAAsB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EAC1CR,IAAI,CAACS,YAAY;QAAA;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjB,CACJ;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAENtC,OAAA;QAAKa,SAAS,EAAC,qCAAqC;QAAAoB,QAAA,gBAClDjC,OAAA;UAAKa,SAAS,EAAC,mBAAmB;UAAAoB,QAAA,gBAChCjC,OAAA,CAACV,UAAU;YAACuB,SAAS,EAAC;UAAoB;YAAAsB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC7CtC,OAAA;YAAAiC,QAAA,gBACEjC,OAAA;cAAGa,SAAS,EAAC,aAAa;cAAAoB,QAAA,EAAC;YAAI;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eACnCtC,OAAA;cAAGa,SAAS,EAAC,eAAe;cAAAoB,QAAA,EAAEX,UAAU,CAACQ,IAAI,CAACU,IAAI;YAAC;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENtC,OAAA;UAAKa,SAAS,EAAC,mBAAmB;UAAAoB,QAAA,gBAChCjC,OAAA,CAACP,OAAO;YAACoB,SAAS,EAAC;UAAqB;YAAAsB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC3CtC,OAAA;YAAAiC,QAAA,gBACEjC,OAAA;cAAGa,SAAS,EAAC,aAAa;cAAAoB,QAAA,EAAC;YAAQ;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eACvCtC,OAAA;cAAGa,SAAS,EAAC,eAAe;cAAAoB,QAAA,GAAEH,IAAI,CAACW,QAAQ,EAAC,KAAG;YAAA;cAAAN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENtC,OAAA;UAAKa,SAAS,EAAC,mBAAmB;UAAAoB,QAAA,gBAChCjC,OAAA,CAACR,UAAU;YAACqB,SAAS,EAAC;UAAsB;YAAAsB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC/CtC,OAAA;YAAAiC,QAAA,gBACEjC,OAAA;cAAGa,SAAS,EAAC,aAAa;cAAAoB,QAAA,EAAC;YAAS;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eACxCtC,OAAA;cAAGa,SAAS,EAAC,eAAe;cAAAoB,QAAA,GAAEH,IAAI,CAACY,SAAS,EAAC,IAAE;YAAA;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,EAELP,UAAU,CAACF,MAAM,GAAG,CAAC,iBACpB7B,OAAA;UAAKa,SAAS,EAAC,mBAAmB;UAAAoB,QAAA,gBAChCjC,OAAA,CAACN,OAAO;YAACmB,SAAS,EAAC;UAAsB;YAAAsB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC5CtC,OAAA;YAAAiC,QAAA,gBACEjC,OAAA;cAAGa,SAAS,EAAC,aAAa;cAAAoB,QAAA,EAAC;YAAM;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eACrCtC,OAAA;cAAGa,SAAS,EAAC,eAAe;cAAAoB,QAAA,GAAEF,UAAU,CAACF,MAAM,EAAC,QAAM,EAACE,UAAU,CAACF,MAAM,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE;YAAA;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3F,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,EAELR,IAAI,CAACa,KAAK,iBACT3C,OAAA;QAAKa,SAAS,EAAC,MAAM;QAAAoB,QAAA,gBACnBjC,OAAA;UAAGa,SAAS,EAAC,0BAA0B;UAAAoB,QAAA,EAAC;QAAK;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACjDtC,OAAA;UAAGa,SAAS,EAAC,8CAA8C;UAAAoB,QAAA,EAAEH,IAAI,CAACa;QAAK;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzE,CACN,EAGAP,UAAU,CAACF,MAAM,GAAG,CAAC,iBACpB7B,OAAA;QAAKa,SAAS,EAAC,MAAM;QAAAoB,QAAA,gBACnBjC,OAAA;UAAGa,SAAS,EAAC,4CAA4C;UAAAoB,QAAA,gBACvDjC,OAAA,CAACN,OAAO;YAACmB,SAAS,EAAC;UAAM;YAAAsB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,UAE9B;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACJtC,OAAA;UAAKa,SAAS,EAAC,mEAAmE;UAAAoB,QAAA,EAC/EF,UAAU,CAACa,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,KAAK,EAAEC,KAAK,kBACvC/C,OAAA;YAAoBa,SAAS,EAAC,wBAAwB;YAAAoB,QAAA,gBACpDjC,OAAA;cACEgD,GAAG,EAAE3B,WAAW,CAACyB,KAAK,CAACG,EAAE,CAAE;cAC3BC,GAAG,EAAEJ,KAAK,CAACK,WAAW,IAAI,cAAcJ,KAAK,GAAG,CAAC,EAAG;cACpDlC,SAAS,EAAC,8FAA8F;cACxGuC,OAAO,EAAGC,CAAC,IAAK;gBACd;gBACAA,CAAC,CAACC,MAAM,CAACC,KAAK,CAACC,OAAO,GAAG,MAAM;cACjC,CAAE;cACFC,KAAK,EAAEX,KAAK,CAACK,WAAW,IAAIL,KAAK,CAACY;YAAa;cAAAvB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChD,CAAC,EACDS,KAAK,KAAK,CAAC,IAAIhB,UAAU,CAACF,MAAM,GAAG,CAAC,iBACnC7B,OAAA;cAAKa,SAAS,EAAC,kFAAkF;cAAAoB,QAAA,eAC/FjC,OAAA;gBAAMa,SAAS,EAAC,kCAAkC;gBAAAoB,QAAA,GAAC,GAChD,EAACF,UAAU,CAACF,MAAM,GAAG,CAAC;cAAA;gBAAAM,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnB;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CACN;UAAA,GAjBOQ,KAAK,CAACG,EAAE;YAAAd,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAkBb,CACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN,eAEDtC,OAAA;QAAKa,SAAS,EAAC,0CAA0C;QAAAoB,QAAA,EAAC;MAE1D;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;;EAEA;EACA,oBACEtC,OAAA;IAAKa,SAAS,EAAC,cAAc;IAAAoB,QAAA,gBAC3BjC,OAAA;MAAIa,SAAS,EAAC,sCAAsC;MAAAoB,QAAA,GACjDf,KAAK,CAACW,MAAM,EAAC,yBAChB;IAAA;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAEJpB,KAAK,CAAC,CAAC,CAAC,CAACqB,YAAY,iBACpBvC,OAAA;MAAGa,SAAS,EAAC,8CAA8C;MAAAoB,QAAA,gBACzDjC,OAAA,CAACT,QAAQ;QAACsB,SAAS,EAAC;MAAoB;QAAAsB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EAC1CpB,KAAK,CAAC,CAAC,CAAC,CAACqB,YAAY;IAAA;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrB,CACJ,eAEDtC,OAAA;MAAKa,SAAS,EAAC,sDAAsD;MAAAoB,QAAA,EAClEf,KAAK,CAAC2B,GAAG,CAAEf,IAAI,IAAK;QACnB,MAAMC,UAAU,GAAGX,cAAc,CAACU,IAAI,CAACE,MAAM,IAAI,EAAE,CAAC;QAEpD,oBACEhC,OAAA;UAAmBa,SAAS,EAAC,0DAA0D;UAAAoB,QAAA,gBACrFjC,OAAA;YAAKa,SAAS,EAAC,uCAAuC;YAAAoB,QAAA,gBACpDjC,OAAA;cAAIa,SAAS,EAAC,qCAAqC;cAAAoB,QAAA,EAAEH,IAAI,CAACI;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACpEtC,OAAA;cAAMa,SAAS,EAAC,uBAAuB;cAAAoB,QAAA,EAAEX,UAAU,CAACQ,IAAI,CAACU,IAAI;YAAC;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnE,CAAC,eAENtC,OAAA;YAAKa,SAAS,EAAC,wDAAwD;YAAAoB,QAAA,gBACrEjC,OAAA;cAAMa,SAAS,EAAC,mBAAmB;cAAAoB,QAAA,gBACjCjC,OAAA,CAACP,OAAO;gBAACoB,SAAS,EAAC;cAAM;gBAAAsB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,EAC3BR,IAAI,CAACW,QAAQ,EAAC,KACjB;YAAA;cAAAN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACPtC,OAAA;cAAMa,SAAS,EAAC,mBAAmB;cAAAoB,QAAA,gBACjCjC,OAAA,CAACR,UAAU;gBAACqB,SAAS,EAAC;cAAM;gBAAAsB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,EAC9BR,IAAI,CAACY,SAAS,EAAC,IAClB;YAAA;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,EACNP,UAAU,CAACF,MAAM,GAAG,CAAC,iBACpB7B,OAAA;cAAMa,SAAS,EAAC,mBAAmB;cAAAoB,QAAA,gBACjCjC,OAAA,CAACN,OAAO;gBAACmB,SAAS,EAAC;cAAM;gBAAAsB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,EAC3BP,UAAU,CAACF,MAAM;YAAA;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACd,CACP;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,EAELR,IAAI,CAACa,KAAK,iBACT3C,OAAA;YAAGa,SAAS,EAAC,gCAAgC;YAAAoB,QAAA,EAAEH,IAAI,CAACa;UAAK;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAC9D,EAGAP,UAAU,CAACF,MAAM,GAAG,CAAC,iBACpB7B,OAAA;YAAKa,SAAS,EAAC,qBAAqB;YAAAoB,QAAA,GACjCF,UAAU,CAACa,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,KAAK,EAAEa,UAAU,kBAC5C3D,OAAA;cAEEgD,GAAG,EAAE3B,WAAW,CAACyB,KAAK,CAACG,EAAE,CAAE;cAC3BC,GAAG,EAAE,GAAGpB,IAAI,CAACI,IAAI,UAAUyB,UAAU,GAAG,CAAC,EAAG;cAC5C9C,SAAS,EAAC,qCAAqC;cAC/CuC,OAAO,EAAGC,CAAC,IAAK;gBACdA,CAAC,CAACC,MAAM,CAACC,KAAK,CAACC,OAAO,GAAG,MAAM;cACjC;YAAE,GANGG,UAAU;cAAAxB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAOhB,CACF,CAAC,EACDP,UAAU,CAACF,MAAM,GAAG,CAAC,iBACpB7B,OAAA;cAAKa,SAAS,EAAC,qEAAqE;cAAAoB,QAAA,eAClFjC,OAAA;gBAAMa,SAAS,EAAC,uBAAuB;gBAAAoB,QAAA,GAAC,GAAC,EAACF,UAAU,CAACF,MAAM,GAAG,CAAC;cAAA;gBAAAM,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpE,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CACN;QAAA,GA/COR,IAAI,CAACmB,EAAE;UAAAd,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAgDZ,CAAC;MAEV,CAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAENtC,OAAA;MAAKa,SAAS,EAAC,0CAA0C;MAAAoB,QAAA,GACtDf,KAAK,CAACW,MAAM,EAAC,+BAChB;IAAA;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACnB,EAAA,CA3LIF,SAAS;EAAA,QAC2BtB,SAAS;AAAA;AAAAiE,EAAA,GAD7C3C,SAAS;AA8Lf,MAAM4C,OAAO,GAAGA,CAAC;EAAE3C;AAAM,CAAC,KAAK;EAAA4C,GAAA;EAC7B;EACA,MAAMC,eAAe,GAAG,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC;;EAEvC;EACA,MAAMC,YAAY,GAAGhF,OAAO,CAAC,MAAM;IACjC,IAAI,CAACkC,KAAK,IAAIA,KAAK,CAACW,MAAM,KAAK,CAAC,EAAE,OAAO,EAAE;IAE3C,MAAMoC,MAAM,GAAG,EAAE;IACjB,MAAMC,SAAS,GAAG,KAAK,CAAC,CAAC;;IAEzBhD,KAAK,CAACiD,OAAO,CAACrC,IAAI,IAAI;MACpB;MACA,MAAMsC,aAAa,GAAGH,MAAM,CAACI,IAAI,CAACC,KAAK,IAAI;QACzC,MAAM7B,QAAQ,GAAG8B,IAAI,CAACC,IAAI,CACxBD,IAAI,CAACE,GAAG,CAACH,KAAK,CAACI,GAAG,GAAG5C,IAAI,CAAC6C,QAAQ,CAACD,GAAG,EAAE,CAAC,CAAC,GAC1CH,IAAI,CAACE,GAAG,CAACH,KAAK,CAACM,GAAG,GAAG9C,IAAI,CAAC6C,QAAQ,CAACC,GAAG,EAAE,CAAC,CAC3C,CAAC;QACD,OAAOnC,QAAQ,GAAGyB,SAAS;MAC7B,CAAC,CAAC;MAEF,IAAIE,aAAa,EAAE;QACjBA,aAAa,CAAClD,KAAK,CAAC2D,IAAI,CAAC/C,IAAI,CAAC;MAChC,CAAC,MAAM;QACLmC,MAAM,CAACY,IAAI,CAAC;UACVH,GAAG,EAAE5C,IAAI,CAAC6C,QAAQ,CAACD,GAAG;UACtBE,GAAG,EAAE9C,IAAI,CAAC6C,QAAQ,CAACC,GAAG;UACtB1D,KAAK,EAAE,CAACY,IAAI;QACd,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;IAEF,OAAOmC,MAAM;EACf,CAAC,EAAE,CAAC/C,KAAK,CAAC,CAAC;;EAEX;EACA,MAAM4D,YAAY,GAAGA,CAAA,KAAM;IACzB,IAAI5D,KAAK,IAAIA,KAAK,CAACW,MAAM,GAAG,CAAC,EAAE;MAC7B,IAAIX,KAAK,CAACW,MAAM,KAAK,CAAC,EAAE;QACtB,OAAO,CAACX,KAAK,CAAC,CAAC,CAAC,CAACyD,QAAQ,CAACD,GAAG,EAAExD,KAAK,CAAC,CAAC,CAAC,CAACyD,QAAQ,CAACC,GAAG,CAAC;MACvD;;MAEA;MACA,MAAMG,MAAM,GAAG7D,KAAK,CAAC8D,MAAM,CAAC,CAACC,GAAG,EAAEnD,IAAI,KAAKmD,GAAG,GAAGnD,IAAI,CAAC6C,QAAQ,CAACD,GAAG,EAAE,CAAC,CAAC,GAAGxD,KAAK,CAACW,MAAM;MACrF,MAAMqD,MAAM,GAAGhE,KAAK,CAAC8D,MAAM,CAAC,CAACC,GAAG,EAAEnD,IAAI,KAAKmD,GAAG,GAAGnD,IAAI,CAAC6C,QAAQ,CAACC,GAAG,EAAE,CAAC,CAAC,GAAG1D,KAAK,CAACW,MAAM;MACrF,OAAO,CAACkD,MAAM,EAAEG,MAAM,CAAC;IACzB;IACA,OAAOnB,eAAe;EACxB,CAAC;EAED,MAAMoB,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAIjE,KAAK,IAAIA,KAAK,CAACW,MAAM,GAAG,CAAC,EAAE;MAC7B,OAAO,CAAC;IACV,CAAC,MAAM,IAAIX,KAAK,IAAIA,KAAK,CAACW,MAAM,KAAK,CAAC,EAAE;MACtC,OAAO,EAAE;IACX;IACA,OAAO,CAAC;EACV,CAAC;EAED,oBACE7B,OAAA;IAAKa,SAAS,EAAC,wBAAwB;IAAAoB,QAAA,gBACrCjC,OAAA,CAACf,YAAY;MACXmG,MAAM,EAAEN,YAAY,CAAC,CAAE;MACvBO,IAAI,EAAEF,UAAU,CAAC,CAAE;MACnBG,eAAe,EAAE,IAAK;MACtBzE,SAAS,EAAC,eAAe;MACzB0C,KAAK,EAAE;QAAEgC,MAAM,EAAE,MAAM;QAAEC,KAAK,EAAE,MAAM;QAAEC,MAAM,EAAE;MAAE,CAAE;MAAAxD,QAAA,gBAEpDjC,OAAA,CAACd,SAAS;QACRwG,WAAW,EAAC,2EAA2E;QACvFC,GAAG,EAAC;MAAoD;QAAAxD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzD,CAAC,EAED0B,YAAY,CAACnB,GAAG,CAAC,CAACyB,KAAK,EAAEvB,KAAK,kBAC7B/C,OAAA,CAACb,MAAM;QAELyG,QAAQ,EAAE,CAACtB,KAAK,CAACI,GAAG,EAAEJ,KAAK,CAACM,GAAG,CAAE;QACjCiB,IAAI,EAAExF,cAAc,CAACiE,KAAK,CAACpD,KAAK,CAACW,MAAM,EAAEyC,KAAK,CAACpD,KAAK,CAACW,MAAM,GAAG,CAAC,CAAE;QAAAI,QAAA,eAEjEjC,OAAA,CAACZ,KAAK;UACJ0G,QAAQ,EAAE,GAAI;UACdjF,SAAS,EAAC,cAAc;UAAAoB,QAAA,eAExBjC,OAAA,CAACiB,SAAS;YAACC,KAAK,EAAEoD,KAAK,CAACpD;UAAM;YAAAiB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5B;MAAC,GATH,SAASgC,KAAK,CAACI,GAAG,IAAIJ,KAAK,CAACM,GAAG,IAAI7B,KAAK,EAAE;QAAAZ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAUzC,CACT,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACU,CAAC,eAGftC,OAAA;MAAKa,SAAS,EAAC,yEAAyE;MAAAoB,QAAA,gBACtFjC,OAAA;QAAIa,SAAS,EAAC,oBAAoB;QAAAoB,QAAA,EAAC;MAAU;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAClDtC,OAAA;QAAKa,SAAS,EAAC,WAAW;QAAAoB,QAAA,gBACxBjC,OAAA;UAAKa,SAAS,EAAC,mBAAmB;UAAAoB,QAAA,gBAChCjC,OAAA;YAAKa,SAAS,EAAC,4FAA4F;YAAAoB,QAAA,EAAC;UAAE;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACpHtC,OAAA;YAAAiC,QAAA,EAAM;UAAW;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrB,CAAC,eACNtC,OAAA;UAAKa,SAAS,EAAC,mBAAmB;UAAAoB,QAAA,gBAChCjC,OAAA;YAAKa,SAAS,EAAC,qGAAqG;YAAAoB,QAAA,EAAC;UAAC;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC5HtC,OAAA;YAAAiC,QAAA,EAAM;UAAc;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAGLpB,KAAK,IAAIA,KAAK,CAACW,MAAM,GAAG,CAAC,iBACxB7B,OAAA;MAAKa,SAAS,EAAC,8DAA8D;MAAAoB,QAAA,eAC3EjC,OAAA;QAAKa,SAAS,EAAC,SAAS;QAAAoB,QAAA,gBACtBjC,OAAA;UAAIa,SAAS,EAAC,kCAAkC;UAAAoB,QAAA,EAAC;QAAU;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAChEtC,OAAA;UAAGa,SAAS,EAAC,eAAe;UAAAoB,QAAA,GACzBf,KAAK,CAACW,MAAM,EAAC,OAAK,EAACX,KAAK,CAACW,MAAM,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,EAAC,UAAG,EAACmC,YAAY,CAACnC,MAAM,EAAC,WAAS,EAACmC,YAAY,CAACnC,MAAM,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE;QAAA;UAAAM,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACwB,GAAA,CArHID,OAAO;AAAAkC,GAAA,GAAPlC,OAAO;AAuHb,eAAeA,OAAO;AAAC,IAAAD,EAAA,EAAAmC,GAAA;AAAAC,YAAA,CAAApC,EAAA;AAAAoC,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}