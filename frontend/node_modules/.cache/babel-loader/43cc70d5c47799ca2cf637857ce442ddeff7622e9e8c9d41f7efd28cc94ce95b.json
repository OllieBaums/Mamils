{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ollie\\\\OneDrive\\\\Documents\\\\personal-Projects\\\\Mamils\\\\frontend\\\\src\\\\components\\\\MapView.jsx\";\nimport React, { useEffect } from \"react\";\nimport { MapContainer, TileLayer, Marker, Popup } from \"react-leaflet\";\nimport L from \"leaflet\";\n\n// Fix for default markers in React Leaflet\nimport markerIcon2x from 'leaflet/dist/images/marker-icon-2x.png';\nimport markerIcon from 'leaflet/dist/images/marker-icon.png';\nimport markerShadow from 'leaflet/dist/images/marker-shadow.png';\n\n// Delete the default icon to fix the marker issue\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\n\n// Set up the default icon\nL.Icon.Default.mergeOptions({\n  iconUrl: markerIcon,\n  iconRetinaUrl: markerIcon2x,\n  shadowUrl: markerShadow\n});\nconst MapView = ({\n  rides\n}) => {\n  // Default center (London coordinates, you can change this)\n  const defaultPosition = [51.505, -0.09];\n\n  // If there are rides, center on the first one or calculate a center point\n  const getMapCenter = () => {\n    if (rides && rides.length > 0) {\n      // Use the first ride's location as center\n      const firstRide = rides[0];\n      return [firstRide.location.lat, firstRide.location.lng];\n    }\n    return defaultPosition;\n  };\n\n  // Calculate appropriate zoom level based on rides\n  const getMapZoom = () => {\n    if (rides && rides.length > 1) {\n      // If multiple rides, zoom out to see them all\n      return 6;\n    } else if (rides && rides.length === 1) {\n      // If one ride, zoom in closer\n      return 10;\n    }\n    // Default zoom for no rides\n    return 6;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative w-full h-full\",\n    children: /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: getMapCenter(),\n      zoom: getMapZoom(),\n      scrollWheelZoom: true,\n      className: \"w-full h-full\",\n      style: {\n        height: \"100%\",\n        width: \"100%\",\n        zIndex: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        attribution: \"\\xA9 <a href=\\\"https://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), rides && rides.map(ride => /*#__PURE__*/_jsxDEV(Marker, {\n        position: [ride.location.lat, ride.location.lng],\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-bold text-lg mb-2\",\n              children: ride.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 22\n                }, this), \" \", ride.date]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Distance:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 22\n                }, this), \" \", ride.distance, \" km\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Elevation:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 22\n                }, this), \" \", ride.elevation, \" m\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 19\n              }, this), ride.notes && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Notes:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 24\n                }, this), \" \", ride.notes]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)\n      }, ride.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_c = MapView;\nexport default MapView;\nvar _c;\n$RefreshReg$(_c, \"MapView\");","map":{"version":3,"names":["React","useEffect","MapContainer","TileLayer","Marker","Popup","L","markerIcon2x","markerIcon","markerShadow","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconUrl","iconRetinaUrl","shadowUrl","MapView","rides","defaultPosition","getMapCenter","length","firstRide","location","lat","lng","getMapZoom","className","children","center","zoom","scrollWheelZoom","style","height","width","zIndex","attribution","url","fileName","_jsxFileName","lineNumber","columnNumber","map","ride","position","name","date","distance","elevation","notes","id","_c","$RefreshReg$"],"sources":["C:/Users/ollie/OneDrive/Documents/personal-Projects/Mamils/frontend/src/components/MapView.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { MapContainer, TileLayer, Marker, Popup } from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\n\r\n// Fix for default markers in React Leaflet\r\nimport markerIcon2x from 'leaflet/dist/images/marker-icon-2x.png';\r\nimport markerIcon from 'leaflet/dist/images/marker-icon.png';\r\nimport markerShadow from 'leaflet/dist/images/marker-shadow.png';\r\n\r\n// Delete the default icon to fix the marker issue\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\n\r\n// Set up the default icon\r\nL.Icon.Default.mergeOptions({\r\n  iconUrl: markerIcon,\r\n  iconRetinaUrl: markerIcon2x,\r\n  shadowUrl: markerShadow,\r\n});\r\n\r\nconst MapView = ({ rides }) => {\r\n  // Default center (London coordinates, you can change this)\r\n  const defaultPosition = [51.505, -0.09];\r\n\r\n  // If there are rides, center on the first one or calculate a center point\r\n  const getMapCenter = () => {\r\n    if (rides && rides.length > 0) {\r\n      // Use the first ride's location as center\r\n      const firstRide = rides[0];\r\n      return [firstRide.location.lat, firstRide.location.lng];\r\n    }\r\n    return defaultPosition;\r\n  };\r\n\r\n  // Calculate appropriate zoom level based on rides\r\n  const getMapZoom = () => {\r\n    if (rides && rides.length > 1) {\r\n      // If multiple rides, zoom out to see them all\r\n      return 6;\r\n    } else if (rides && rides.length === 1) {\r\n      // If one ride, zoom in closer\r\n      return 10;\r\n    }\r\n    // Default zoom for no rides\r\n    return 6;\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative w-full h-full\">\r\n      <MapContainer\r\n        center={getMapCenter()}\r\n        zoom={getMapZoom()}\r\n        scrollWheelZoom={true}\r\n        className=\"w-full h-full\"\r\n        style={{ height: \"100%\", width: \"100%\", zIndex: 1 }}\r\n      >\r\n        <TileLayer\r\n          attribution='&copy; <a href=\"https://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        />\r\n\r\n        {rides && rides.map((ride) => (\r\n          <Marker\r\n            key={ride.id}\r\n            position={[ride.location.lat, ride.location.lng]}\r\n          >\r\n            <Popup>\r\n              <div className=\"p-2\">\r\n                <h3 className=\"font-bold text-lg mb-2\">{ride.name}</h3>\r\n                <div className=\"space-y-1 text-sm\">\r\n                  <p><strong>Date:</strong> {ride.date}</p>\r\n                  <p><strong>Distance:</strong> {ride.distance} km</p>\r\n                  <p><strong>Elevation:</strong> {ride.elevation} m</p>\r\n                  {ride.notes && (\r\n                    <p><strong>Notes:</strong> {ride.notes}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </Popup>\r\n          </Marker>\r\n        ))}\r\n      </MapContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MapView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}